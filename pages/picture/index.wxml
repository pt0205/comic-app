<!--index.wxml-->
<view class='container' bindtouchstart='touchStartHandle' bindtouchmove='touchMoveHandle' bindtouchend='touchEndHandle'>
    <scroll-view class='scroll_w' scroll-y scroll-top='{{scrollTop}}' upper-threshold='2000rpx' lower-threshold='2000rpx' bindscrolltolower='onLolower' bindscrolltoupper='onUpper' bindscroll='scroll' scroll-into-view='{{picIndex}}' scroll-with-animation="{{false}}">
        <view style='visibility:{{topLoadingTip ? "visible" : "hidden"}}' class='top_loading' bindtap='onPreChapter'>{{topLoadingTip}}</view>
        <view class='image_w'>
            <block wx:for='{{pics}}' wx:key='{{item.url}}'>
                <image src='{{item.url}}' style='width:{{imgScale*100+"%"}};height:auto;' class='{{"chapter_"+item.chapterid}}' id='{{index==0 || item.chapterid!= pics[index-1].chapterid ? "chapter_"+item.chapterid : "pic_"+index}}' lazy-load='{{true}}' mode='widthFix' data-index='{{index}}' bindtap='clickToScale'></image>
            </block>
        </view>
        <view wx:if='{{bottomLoading}}' class='bottom_loading' id="bottom_loading">{{bottomLoadingTip}}</view>
    </scroll-view>
    <view class='bottom_btn_w {{systemInfo.platform=="android" ? "android" : "ios"}} {{showBootomBtn ? "active" : ""}}'>
        <view class='pre_chapter' bindtap='onPreChapter'>上一章</view>
        <view class='scroll_to_top' bindtap='scrollToTop'>回到顶部</view>
        <view class='next_chapter' bindtap='onNextChapter'>下一章</view>
    </view>
</view>